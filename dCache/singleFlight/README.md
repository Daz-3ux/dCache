## 缓存相关问题
- 缓存雪崩
  - 大量缓存同时失效，请求全部转发到数据库，导致数据库压力过大，甚至宕机
  - 通常是因为缓存服务器宕机, 缓存的 key 设置了相同的过期时间 ...
- 缓存击穿
  - 一个存在的 key, 在缓存过期的一刻，同时有大量的请求，这些请求都会击穿到数据库
- 缓存穿透
  - 查询一个不存在的数据，因为不存在则不会写到缓存中，所以每次都会去请求数据库，如果瞬间流量过大，穿透到数据库，可能会导致宕机

## singleFlight
- 用法
  - 在一瞬间有大量请求 get(key), 而且 key 未被缓存在当前节点, 如果不用 singleFlight, 则会导致大量的请求转发到数据库,造成数据库压力猛增
  - 使用 singleFlight, 第一个 get(key) 到来时, singleFlight 会将这个请求放到一个队列中, 然后将这个请求的结果返回给所有等待的请求
  - 后续请求只需要等待第一个请求处理完成, 避免了大量的请求转发到数据库
- 简短理解
  - 加锁阻塞相同请求, 等待请求结果, 防止其他 节点/源 压力猛增被击穿